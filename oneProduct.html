<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Bla bla">
    <link rel="stylesheet" href="styles/prod.css">
    <script src="js/script.js"></script>
    <script src="/components/my-footer.js" type="module"></script>
    <script src="/components/my-header.js" type="module"></script>
    <title>One product</title>
    <script>
        const app = {}
        document.addEventListener('DOMContentLoaded', () => {
            async function getData() {
                const url = "https://api.jsonbin.io/v3/b/674e28d9e41b4d34e45e9fbe";

                try {
                    const response = await fetch(url, {
                        method: "GET",
                        headers: {
                            "Content-Type": "application/json",
                            "X-Master-Key": "$2a$10$7w3VcmT.B7rqVSCm/vok8u/CpprJpveDoIogwVSLZK9AZoFdxbCLG",
                        },
                    });

                    if (!response.ok) {
                        throw new Error(`Error: ${response.statusText}`);
                    }

                    const data = await response.json();
                    return data.record.container;
                } catch (error) {
                    console.error("Error:", error);
                    return null;
                }
            }

            (async () => {
                const ProductData = await getData();
                console.log("Product data:", ProductData);
                if(ProductData){
                //article
                    document.getElementById("title").innerHTML = ProductData.article.title;
                    document.getElementById("neg").innerHTML =  `<img src="${ProductData.thumbnails[0].src}" alt="${ProductData.thumbnails[0].alt}">`;
                    document.getElementById("xoyr").innerHTML = `<img src="${ProductData.thumbnails[1].src}" alt="${ProductData.thumbnails[1].alt}">`;
                    document.getElementById("gurav").innerHTML = `<img src="${ProductData.thumbnails[2].src}" alt="${ProductData.thumbnails[2].alt}">`;
                    document.getElementById("duruv").innerHTML = `<img src="${ProductData.thumbnails[3].src}" alt="${ProductData.thumbnails[3].alt}">`;
                    document.getElementById("mainpicture").innerHTML = `<img class="big" src="${ProductData.mainImage.src}" alt="${ProductData.mainImage.alt}">`;
                    document.querySelector("pre").innerHTML = ProductData.article.category;
                //details
                    document.getElementById("uildverlesen").innerHTML = `“Æ–π–ª–¥–≤—ç—Ä–ª—ç–≥–¥—Å—ç–Ω –æ–≥–Ω–æ–æ: ${ProductData.article.details.manufactureDate}`;
                    document.getElementById("expire").innerHTML = `–î—É—É—Å–∞—Ö –æ–≥–Ω–æ–æ: ${ProductData.article.details.expiryDate}`;
                    document.getElementById("origin").innerHTML = `–ë“Ø—Ç—ç—ç–≥–¥—ç—Ö“Ø“Ø–Ω–∏–π –≥–∞—Ä–∞–ª: ${ProductData.article.details.origin}`;
                    document.getElementById("standart").innerHTML = `–ë–∞—Ç–∞–ª–≥–∞–∞–∂—É—É–ª–∞–ª—Ç: ${ProductData.article.details.certification}`;
                //color
                    document.getElementById("color1").innerHTML = ProductData.article.options.colors[0].label;
                    document.getElementById("color2").innerHTML = ProductData.article.options.colors[1].label;
                    document.getElementById("color3").innerHTML = ProductData.article.options.colors[2].label;
                //size
                    document.getElementById("size1").innerHTML = ProductData.article.options.sizes[0].label;
                    document.getElementById("size2").innerHTML = ProductData.article.options.sizes[1].label;
                    document.getElementById("size3").innerHTML = ProductData.article.options.sizes[2].label;
                //price
                    document.getElementById("currency").innerHTML = ProductData.article.price.currency;
                    document.getElementById("total").innerHTML = ProductData.article.price.amount;
                }
            })(); 
        });

    </script>
</head>

<body>
    <my-header></my-header>


    <div class="container">
        <ul class="jagsaah">
            <li id="neg">–ó—É—Ä–∞–≥ –ù—ç–≥</li>
            <li id="xoyr">–ó—É—Ä–∞–≥ –•–æ—ë—Ä</li>
            <li id="gurav">–ó—É—Ä–∞–≥ –ì—É—Ä–∞–≤</li>
            <li id="duruv">–ó—É—Ä–∞–≥ –õ”©</li>
        </ul>
        <div id="mainpicture">
            Main Picture
        </div>        
        <article>
            <h2 id="title">–ì–∞—Ä—á–∏–≥</h2>
            <pre></pre>
            <aside class="songolt">
                <pre>–•—ç–º–∂—ç—ç</pre>
                <form>
                    <input type="radio"  name="choice_size">
                    <label for="size1" id="size1"></label>
                    <input type="radio"  name="choice_size">
                    <label for="size2" id="size2"></label>
                    <input type="radio"  name="choice_size">
                    <label for="size3" id="size3"></label>
                </form>
            </aside>
            <aside>
                <pre>”®–Ω–≥”©</pre>
                <form>
                    <input type="radio"  name="choice_color">
                    <label for="color1" id="color1">”®–Ω–≥”© –ù—ç–≥</label>
                    <input type="radio"  name="choice_color">
                    <label for="color2" id="color2">”®–Ω–≥”© –•–æ—ë—Ä</label>
                    <input type="radio"  name="choice_color">
                    <label for="color3" id="color3">”®–Ω–≥”© –ì—É—Ä–∞–≤</label>
                </form>
            </aside>
            <p id="uildverlesen"></p>
            <p id="expire"></p>
            <p id="origin"></p>
            <p id="standart"></p>

            <span id="currency">–í–∞–ª—é—Ç</span><span id="total">“Æ–Ω—ç</span>
            <br>
            <button id="pay-button">üõí–°–∞–≥—Å–∞–Ω–¥ –Ω—ç–º—ç—Öüõí</button>
        </article>
    </div>
    <article class="lists">
        <h2>–¢”©—Å—Ç—ç–π –±“Ø—Ç—ç—ç–≥–¥—ç—Ö“Ø“Ø–Ω“Ø“Ø–¥</h2>
        <aside class="some">
            <button class="paw1" aria-label="–¢—ç–∂—ç—ç–≤—ç—Ä –∞–º—å—Ç–Ω—ã –±“Ø—Ç—ç—ç–≥–¥—ç—Ö“Ø“Ø–Ω –Ω—ç–º–∂ —Ö–∞—Ä–∞—Ö">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-paw-print">
                    <circle cx="11" cy="4" r="2" />
                    <circle cx="18" cy="8" r="2" />
                    <circle cx="20" cy="16" r="2" />
                    <path
                        d="M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z" />
                </svg>
            </button>
            <section class="product">
                <h3>Doubly Delicious</h3>
                <a href="oneProduct.html">
                    <img src="images/negfood.png" alt="product">
                </a>
            </section>
            <section class="product">
                <h3>Doubly Delicious</h3>
                <a href="oneProduct.html">
                    <img src="images/negfood.png" alt="product">
                </a>
            </section>
            <section class="product">
                <h3>Doubly Delicious</h3>
                <a href="oneProduct.html">
                    <img src="images/negfood.png" alt="product">
                </a>
            </section>
            <section class="product">
                <h3>Doubly Delicious</h3>
                <a href="oneProduct.html">
                    <img src="images/negfood.png" alt="product">
                </a>
            </section>
            <section class="product">
                <h3>Doubly Delicious</h3>
                <a href="oneProduct.html">
                    <img src="images/negfood.png" alt="product">
                </a>
            </section>
            <section class="product">
                <h3>Doubly Delicious</h3>
                <a href="oneProduct.html">
                    <img src="images/negfood.png" alt="product">
                </a>
            </section>
            <button class="paw1" aria-label="–¢—ç–∂—ç—ç–≤—ç—Ä –∞–º—å—Ç–Ω—ã –±“Ø—Ç—ç—ç–≥–¥—ç—Ö“Ø“Ø–Ω –Ω—ç–º–∂ —Ö–∞—Ä–∞—Ö">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-paw-print">
                    <circle cx="11" cy="4" r="2" />
                    <circle cx="18" cy="8" r="2" />
                    <circle cx="20" cy="16" r="2" />
                    <path
                        d="M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z" />
                </svg>
            </button>
        </aside>
    </article>

    <my-footer></my-footer>

    <script>
        const smallImages = document.querySelectorAll(".jagsaah li img");
        const bigImage = document.querySelector(".big");

        if (smallImages.length > 0) {
            bigImage.src = smallImages[0].src;
            bigImage.alt = smallImages[0].alt;
        }

        smallImages.forEach((smallImg) => {
            smallImg.addEventListener("click", () => {
                bigImage.src = smallImg.src;
                bigImage.alt = smallImg.alt;
            });
        });
    </script>

</body>

</html>